// Movies Arrays

const indexMovies = ["https://www.omdbapi.com/?i=tt0851578&apikey=57127a04", "https://www.omdbapi.com/?i=tt4633694&apikey=57127a04",
 "https://www.omdbapi.com/?i=tt1865505&apikey=57127a04", "https://www.omdbapi.com/?i=tt2576852&apikey=57127a04", 
 "https://www.omdbapi.com/?i=tt0070544&apikey=57127a04", "https://www.omdbapi.com/?i=tt0095327&apikey=57127a04", "https://www.omdbapi.com/?i=tt5311514&apikey=57127a04",
 "https://www.omdbapi.com/?i=tt1401106&apikey=57127a04", "https://www.omdbapi.com/?i=tt0119698&apikey=57127a04", "https://www.omdbapi.com/?i=tt0910970&apikey=57127a04",
 "https://www.omdbapi.com/?i=tt0087544&apikey=57127a04", "https://www.omdbapi.com/?i=tt3901826&apikey=57127a04"]

const europeanWesternMovies = ["https://www.omdbapi.com/?i=tt1865505&apikey=57127a04", "https://www.omdbapi.com/?i=tt0775489&apikey=57127a04", "https://www.omdbapi.com/?i=tt1374985&apikey=57127a04",
"https://www.omdbapi.com/?i=tt1821641&apikey=57127a04", "https://www.omdbapi.com/?i=tt2990836&apikey=57127a04", "https://www.omdbapi.com/?i=tt1235830&apikey=57127a04",
"https://www.omdbapi.com/?i=tt2321405&apikey=57127a04", "https://www.omdbapi.com/?i=tt3262342&apikey=57127a04", "https://www.omdbapi.com/?i=tt2967856&apikey=57127a04"]

const europeanEasternMovies = ["httpss://www.omdbapi.com/?i=tt1343712&apikey=57127a04", "https://www.omdbapi.com/?i=tt2243621&apikey=57127a04", "https://www.omdbapi.com/?i=tt0457024&apikey=57127a04", 
"https://www.omdbapi.com/?i=tt6685538&apikey=57127a04", "https://www.omdbapi.com/?i=tt1230144&apikey=57127a04", "https://www.omdbapi.com/?i=tt0863136&apikey=57127a04",
"https://www.omdbapi.com/?i=tt0440846&apikey=57127a04", "https://www.omdbapi.com/?i=tt10375360&apikey=57127a04", "https://www.omdbapi.com/?i=tt0289263&apikey=57127a04"]

const africanMovies = ["https://www.omdbapi.com/?i=tt11153796&apikey=57127a04", "https://www.omdbapi.com/?i=tt1352802&apikey=57127a04", "https://www.omdbapi.com/?i=tt12139700&apikey=57127a04",
"https://www.omdbapi.com/?i=tt1822239&apikey=57127a04", "https://www.omdbapi.com/?i=tt8260384&apikey=57127a04", "https://www.omdbapi.com/?i=tt1647406&apikey=57127a04",
"https://www.omdbapi.com/?i=tt6977442&apikey=57127a04", "https://www.omdbapi.com/?i=tt1488181&apikey=57127a04", "https://www.omdbapi.com/?i=tt1487931&apikey=57127a04"]

const oceaniaMovies = ["https://www.omdbapi.com/?i=tt2943352&apikey=57127a04", "https://www.omdbapi.com/?i=tt1168764&apikey=57127a04", "https://www.omdbapi.com/?i=tt7003350&apikey=57127a04", 
"https://www.omdbapi.com/?i=tt1735221&apikey=57127a04", "https://www.omdbapi.com/?i=tt9344042&apikey=57127a04", "https://www.omdbapi.com/?i=tt0978762&apikey=57127a04",
"https://www.omdbapi.com/?i=tt3700456&apikey=57127a04", "https://www.omdbapi.com/?i=tt0382734&apikey=57127a04", "https://www.omdbapi.com/?i=tt3728746&apikey=57127a04"]

const asiaMovies = ["https://www.omdbapi.com/?i=tt0815890&apikey=57127a04", "https://www.omdbapi.com/?i=tt1330053&apikey=57127a04", "https://www.omdbapi.com/?i=tt0094625&apikey=57127a04",
"https://www.omdbapi.com/?i=tt0113568&apikey=57127a04", "https://www.omdbapi.com/?i=tt4644382&apikey=57127a04", "https://www.omdbapi.com/?i=tt9288776&apikey=57127a04",
"https://www.omdbapi.com/?i=tt0262264&apikey=57127a04", "https://www.omdbapi.com/?i=tt0488836&apikey=57127a04", "https://www.omdbapi.com/?i=tt2404027&apikey=57127a04"]

const southAmericaMovies = ["https://www.omdbapi.com/?i=tt2231505&apikey=57127a04", "https://www.omdbapi.com/?i=tt6643494&apikey=57127a04", "https://www.omdbapi.com/?i=tt2439190&apikey=57127a04", 
"https://www.omdbapi.com/?i=tt11230056&apikey=57127a04", "https://www.omdbapi.com/?i=tt0390350&apikey=57127a04", "https://www.omdbapi.com/?i=tt3183630&apikey=57127a04",
"https://www.omdbapi.com/?i=tt2231208&apikey=57127a04", "https://www.omdbapi.com/?i=tt8327492&apikey=57127a04", "https://www.omdbapi.com/?i=tt6870750&apikey=57127a04",]

const northAmericaMovies = ["https://www.omdbapi.com/?i=tt0414469&apikey=57127a04", "https://www.omdbapi.com/?i=tt0086203&apikey=57127a04", "https://www.omdbapi.com/?i=tt0082509&apikey=57127a04", 
"https://www.omdbapi.com/?i=tt2262227&apikey=57127a04", "https://www.omdbapi.com/?i=tt1828224&apikey=57127a04", "https://www.omdbapi.com/?i=tt5265948&apikey=57127a04",
"https://www.omdbapi.com/?i=tt0129167&apikey=57127a04", "https://www.omdbapi.com/?i=tt5104604&apikey=57127a04", "https://www.omdbapi.com/?i=tt1754656&apikey=57127a04"]


// selector function

export const movieSelector = (value) => {
    console.log("dentro de la funcion movie selector, el valor que estoy pasando es: " + value)
    if(value === 'africa' ){
        main.innerHTML = ''
        africanMovies.forEach(cardTemplate)
    }
    else if(value === 'asia'){
        main.innerHTML = ''
        asiaMovies.forEach(cardTemplate)
    }
    else if(value === 'eastern europe'){
        main.innerHTML = ''
        europeanEasternMovies.forEach(cardTemplate)
    }
    else if(value === 'western europe'){
        main.innerHTML = ''
        europeanWesternMovies.forEach(cardTemplate)
    }
    else if(value === 'north america'){
        main.innerHTML = ''
        northAmericaMovies.forEach(cardTemplate)
    }
    else if (value === 'south america'){
        main.innerHTML = ''
        southAmericaMovies.forEach(cardTemplate)
    }
    else if (value === 'oceania'){
        main.innerHTML = ''
        oceaniaMovies.forEach(cardTemplate)
    }

    cardTemplate(value)
}

// searchbar function

export const getAnswer = (name) => {
    const searchUrl = `httpss://www.omdbapi.com/?t=${name}&apikey=57127a04`
    fetch(searchUrl)
    .then(res => res.json() ) 
    .then(data => {
        const valor = Object.values(data);
        console.log(valor)
        if (valor.includes("False")) {
            console.log(typeof(valor))
            main.innerHTML = `<div class="searcherror">
            <p>No movie have been found. Please try a different movie title...</p>
            </div>`           
        }

        else if (valor[5].includes("Animation")) {
            console.log(typeof(valor))
            console.log(data.value)
            main.innerHTML = 
            `<article id="card" class="card">
            <div id="linkcard" class="linkcard">
            <a href="httpss://www.imdb.com/title/${data.imdbID}" target="_blank">  
            <img src='${data.Poster}' id="cover" class="cover">
            </a>
            </div>    
            <div id="datacard" class="datacard">
            <p id="movietitle">${data.Title}</p>
            <p id="moviegenre">${data.Genre}</p>
            <p id="movieorigin">${data.Country}</p>
            </div>
            </article>`
        }
        else {
            main.innerHTML = `<div class="searcherror">
            <p>This movie is not animation, please try a different title...</p>
            </div>`     
        }
    })
};

// template function

export const cardTemplate = (data) => {
    fetch(data)
        .then(res => res.json()) 
        .then(data => {
        main.innerHTML += 
        `<article id="card" class="card">
            <div id="linkcard" class="linkcard">
                <a href="httpss://www.imdb.com/title/${data.imdbID}" target="_blank">  
                <img src='${data.Poster}' id="cover" class="cover">
                </a>
            </div>    
            <div id="datacard" class="datacard">
            <p id="movietitle">${data.Title}</p>
            <p id="moviegenre">${data.Genre}</p>
            <p id="movieorigin">${data.Country}</p>
            </div>
        </article>`
        console.log(data)
});
}